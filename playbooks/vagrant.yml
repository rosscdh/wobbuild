---
- hosts: all
  become: true
  vars:
    application_name: wobbuild
    document_root: /vagrant
    www_user: vagrant
    www_group: vagrant
  vars_files:
    # - vars/postgres.yml
    - vars/gitconfig.yml
  handlers:
    - name: restart nginx
      service: name=nginx state=restarted
    - name: restart {{ application_name }}
      service: name={{ application_name }} state=restarted
  roles:
    # - ANXS.postgresql
    - DavidWittman.redis
    - kosssi.gitconfig
    # - deiga.sbt
    # - groover.maven
    # - SimpliField.node

  tasks:
    - include: tasks/base.yml
    - include: tasks/nginx.yml
    - include: tasks/application.yml